<div class="w-full p-3"  [hidden]="!authService.user_logged_in">
    <div class="w-full flex grid">
        <div class="col-3">
            <div>
                <form [formGroup]="formGroup">
                    <div class="p-2 w-auto" *ngFor="let aColl of collService.collections; index as i;">
                        <p-button [outlined]="true" severtiy="secondary"
                        (onClick)="openCollection(aColl.id)"
                        [label]="aColl.display_name.toString()"
                        ></p-button>
                    </div>
                    <div class="p-2">
                        <p-button (onClick)="openDialog()" icon="pi pi-plus"></p-button>
                    </div>
                </form>
                <!--<p-button (click)="openDialog()" icon="pi pi-external-link" label="Show"></p-button>
                <p-button (onClick)="openCollection()">Öffnen</p-button>//openCreateCollection()-->
            </div>
        </div>
        <div class="col-8">
            <app-chapter-overview
                [activated]="chapters_activated">
            </app-chapter-overview>
        </div>
    </div>
    <p-dialog header="Neue Collection anlegen"
            [(visible)]="dialogVisible"
            [modal]="true"
            [style]="{ width: '400px' }"
            [draggable]="false"
            [resizable]="false">
        <div class="m-0">
            <form [formGroup]="collForm" (ngSubmit)="onSubmit()">
                <div class="mt-2">
                    <input class="w-full" pInputText type="text" name="name" placeholder="Titel" formControlName="name">
                </div>
                <div class="mt-2">
                    <input class="w-full" pInputText type="text" name="display_name" placeholder="Anzeigename" formControlName="display_name">
                </div>
                <div class="mt-2">
                    <textarea class="w-full" id="collection_description" pInputText type="text" name="collection_description" placeholder="Beschreibung" formControlName="collection_description"></textarea>
                </div>
                <!--<p-button class="mt-3" label="Anlegen" [loading]="loading" (onClick)="onSubmit()"></p-button>-->
            </form>
        </div>
        <div class="mt-3 align-content-between flex-wrap">
            <p-button (onClick)="closeDialog()" severity="secondary">Schließen</p-button>
            <p-button (onClick)="onSubmit()" class="ml-2" [loading]="loading">Collection anlegen</p-button>
        </div>
    </p-dialog>
</div>